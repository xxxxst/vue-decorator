{"version":3,"file":"vue-decorator.esm.js","sources":["../src/InitLib.ts","../src/Comp.ts","../src/Inject.ts","../src/Model.ts","../src/Prop.ts","../src/Provide.ts","../src/Watch.ts","../src/State.ts"],"sourcesContent":["\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) xxxxst. All rights reserved.\r\n *  Licensed under the MIT License\r\n *--------------------------------------------------------------------------------------------\r\n*/\r\n\r\n// @ts-ignore\r\nimport { RuntimeHook } from 'vue';\r\n\r\n// get hook\r\nRuntimeHook.getPublicInstanceProxyHandlers.push(function (instance, key: any) {\r\n\tvar ctx = instance;\r\n\tvar rst = {\r\n\t\thandler: false,\r\n\t\tdata: null,\r\n\t}\r\n\r\n\tif (!ctx[\"_vd_\"]) {\r\n\t\treturn rst;\r\n\t}\r\n\r\n\tif (key in ctx[\"_vd_\"].mapInject) {\r\n\t\trst.handler = true;\r\n\t\trst.data = ctx[key].value;\r\n\t}\r\n\r\n\treturn rst;\r\n});\r\n\r\n// set hook\r\nRuntimeHook.setPublicInstanceProxyHandlers.push(function (instance, key: any, val: any) {\r\n\tvar ctx = instance;\r\n\tvar rst = {\r\n\t\thandler: false,\r\n\t\tsuccess: true,\r\n\t}\r\n\r\n\tif (!ctx[\"_vd_\"]) {\r\n\t\treturn rst;\r\n\t}\r\n\r\n\trst.handler = true;\r\n\trst.success = true;\r\n\r\n\tif ((key in ctx[\"_vd_\"].objProp) && ctx[\"_vd_\"].objProp[key]._isModel) {\r\n\t\tinstance.emit(\"update:\" + key, val);\r\n\t} else {\r\n\t\trst.handler = false;\r\n\t\trst.success = false;\r\n\t}\r\n\r\n\treturn rst;\r\n});\r\n","\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) xxxxst. All rights reserved.\r\n *  Licensed under the MIT License\r\n *--------------------------------------------------------------------------------------------\r\n*/\r\n\r\nimport { Component, computed, ComponentOptions } from 'vue';\r\nimport { createDecorator, Vue, VueConstructor } from 'vue-class-component';\r\n\r\nfunction extend(obj, ...args) {\r\n\tfor (var i = 0; i < args.length; ++i) {\r\n\t\tfor (var key in args[i]) {\r\n\t\t\tif (typeof (args[i][key]) != \"object\" || args[i][key] == null) {\r\n\t\t\t\tobj[key] = args[i][key];\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (!obj[key] || typeof (obj[key]) != \"object\" || obj[key] == null) {\r\n\t\t\t\tobj[key] = args[i][key];\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\textend(obj[key], args[i][key]);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n//class decorator\r\nexport default function Comp(comps?: Record<string, Component>, options?: ComponentOptions) {\r\n\tcomps = comps || {};\r\n\r\n\treturn (target: VueConstructor<Vue>) => {\r\n\t\tvar obj = target[\"__o\"] || (target[\"__o\"] = {});\r\n\r\n\t\t// Component\r\n\t\tvar objComp = obj.components || (obj.components = {});\r\n\t\tfor (var key in comps) {\r\n\t\t\tobjComp[key] = comps[key];\r\n\t\t}\r\n\r\n\t\tvar cfgData = {\r\n\t\t\tmapInject: {},\r\n\t\t\tobjProp: {},\r\n\t\t};\r\n\r\n\t\t// Provide\r\n\t\tif (obj.provide) {\r\n\t\t\tvar objProvide = obj.provide;\r\n\t\t\tobj.provide = function () {\r\n\t\t\t\tvar rst = {};\r\n\t\t\t\tfor (var key in objProvide) {\r\n\t\t\t\t\trst[key] = computed(() => this[key]);\r\n\t\t\t\t}\r\n\t\t\t\treturn rst;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar isRegistVH = false;\r\n\t\t// Inject\r\n\t\tif (obj.inject) {\r\n\t\t\tfor (var i = 0; i < obj.inject.length; ++i) {\r\n\t\t\t\tcfgData.mapInject[obj.inject[i]] = true;\r\n\t\t\t\tisRegistVH = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Model\r\n\t\tvar objProp = obj.props || (obj.props = {});\r\n\t\tfor (var key in objProp) {\r\n\t\t\tif (objProp[key]._isModel) {\r\n\t\t\t\tisRegistVH = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tcfgData.objProp = objProp;\r\n\r\n\t\textend(obj, options);\r\n\r\n\t\tcreateDecorator((componentOptions, handler) => {\r\n\t\t\tvar mixins = componentOptions.mixins || (componentOptions.mixins = []);\r\n\r\n\t\t\tmixins.push({\r\n\t\t\t\tdata: function () {\r\n\t\t\t\t\t// Prop\r\n\t\t\t\t\tfor (var key in objProp) {\r\n\t\t\t\t\t\t// default value\r\n\t\t\t\t\t\tthis[\"_\"].props[key] = this[\"_\"].props[key] || objProp[key].default;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (isRegistVH) {\r\n\t\t\t\t\t\tthis[\"_\"][\"_vd_\"] = cfgData;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn {};\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t})(target.prototype, key);\r\n\r\n\t\tclass VueComponentHandler extends target {\r\n\t\t\tconstructor(...args) {\r\n\t\t\t\tsuper(...args);\r\n\r\n\t\t\t\t// var objProp = obj.props || (obj.props = {});\r\n\t\t\t\tfor (var key in objProp) {\r\n\t\t\t\t\tobjProp[key].default = this[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tdelete target[\"__o\"];\r\n\t\tVueComponentHandler[\"__o\"] = obj;\r\n\r\n\t\treturn VueComponentHandler as any;\r\n\t}\r\n}\r\n","\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) xxxxst. All rights reserved.\r\n *  Licensed under the MIT License\r\n *--------------------------------------------------------------------------------------------\r\n*/\r\n\r\nimport type { Vue } from 'vue-class-component';\r\n\r\n//attribute decorator\r\nexport default function Inject() {\r\n\treturn (target: Vue, key: string) => {\r\n\t\tvar obj = target.constructor[\"__o\"] || (target.constructor[\"__o\"] = {});\r\n\t\tvar arrInject = obj.inject || (obj.inject = []);\r\n\t\t\r\n\t\tarrInject.push(key);\r\n\t}\r\n}\r\n","\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) xxxxst. All rights reserved.\r\n *  Licensed under the MIT License\r\n *--------------------------------------------------------------------------------------------\r\n*/\r\n\r\nimport type { Vue } from 'vue-class-component';\r\n\r\n//attribute decorator\r\nexport default function Model() {\r\n\treturn (target: Vue, key: string) => {\r\n\t\tvar obj = target.constructor[\"__o\"] || (target.constructor[\"__o\"] = {});\r\n\t\tvar objMd = obj.props || (obj.props = {});\r\n\t\tvar objEmit = obj.emits || (obj.emits = {});\r\n\r\n\t\tvar keyFun = \"update:\" + key;\r\n\r\n\t\tobjMd[key] = {\r\n\t\t\ttype: [Object, Array, String, Number, Boolean, Function],\r\n\t\t\t_isModel: true,\r\n\t\t\tdefault: undefined\r\n\t\t};\r\n\r\n\t\tobjEmit[keyFun] = null;\r\n\t}\r\n}\r\n","\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) xxxxst. All rights reserved.\r\n *  Licensed under the MIT License\r\n *--------------------------------------------------------------------------------------------\r\n*/\r\n\r\nimport type { Vue } from 'vue-class-component';\r\n\r\n//attribute decorator\r\nexport default function Prop() {\r\n\treturn (target: Vue, key: string) => {\r\n\t\tvar obj = target.constructor[\"__o\"] || (target.constructor[\"__o\"] = {});\r\n\t\tvar objProp = obj.props || (obj.props = {});\r\n\t\t\r\n\t\tobjProp[key] = {\r\n\t\t\ttype: [Object, Array, String, Number, Boolean, Function],\r\n\t\t\tdefault: undefined\r\n\t\t};\r\n\r\n\t\t// var val = undefined;\r\n\t\t// Object.defineProperty(objProp[key], \"default\", {\r\n\t\t// \tenumerable: true,\r\n\t\t// \tconfigurable: true,\r\n\t\t// \tget: function (this: any) { console.warn(\"222\", key, this); return val; },\r\n\t\t// \tset: (value: any) => { val = value; },\r\n\t\t// });\r\n\t}\r\n}\r\n","\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) xxxxst. All rights reserved.\r\n *  Licensed under the MIT License\r\n *--------------------------------------------------------------------------------------------\r\n*/\r\n\r\nimport type { Vue } from 'vue-class-component';\r\n\r\n//attribute decorator\r\nexport default function Provide() {\r\n\treturn (target: Vue, key: string) => {\r\n\t\tvar obj = target.constructor[\"__o\"] || (target.constructor[\"__o\"] = {});\r\n\t\tvar objProvide = obj.provide || (obj.provide = {});\r\n\t\t\r\n\t\tobjProvide[key] = null;\r\n\t}\r\n}\r\n","\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) xxxxst. All rights reserved.\r\n *  Licensed under the MIT License\r\n *--------------------------------------------------------------------------------------------\r\n*/\r\n\r\nimport type { Vue } from 'vue-class-component';\r\n\r\ninterface WathOption {\r\n\tname?: string;\r\n\tdeep?: boolean;\r\n\timmediate?: boolean;\r\n\tflush?: \"pre\" | \"post\" | \"sync\";\r\n}\r\n\r\nexport const DEEP = 0x1;\r\nexport const IMMEDIATE = 0x2;\r\n\r\n// Function decorator\r\nexport default function Watch(option?: WathOption | number) {\r\n\treturn (target: Vue, key: string, descriptor: any) => {\r\n\t\tvar obj = target.constructor[\"__o\"] || (target.constructor[\"__o\"] = {});\r\n\t\tvar objWatch = obj.watch || (obj.watch = {});\r\n\r\n\t\t// Wath attribute name\r\n\t\tvar name = \"\";\r\n\t\tif (typeof (option) == \"object\") {\r\n\t\t\tname = option.name || \"\";\r\n\t\t}\r\n\t\tif (name == \"\") {\r\n\t\t\tname = key.substr(0, key.length - \"Changed\".length);\r\n\t\t}\r\n\r\n\t\t// parse option\r\n\t\tvar tmp: any = {};\r\n\t\tif (typeof (option) == \"object\") {\r\n\t\t\t// option is WathOption\r\n\t\t\tfor (var key in option) {\r\n\t\t\t\tif (key == \"name\") {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\ttmp[key] = option[key];\r\n\t\t\t}\r\n\t\t} else if (typeof (option) == \"number\") {\r\n\t\t\t// option is number\r\n\t\t\tif (option & DEEP) {\r\n\t\t\t\ttmp.deep = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (option & IMMEDIATE) {\r\n\t\t\t\ttmp.immediate = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ttmp.handler = descriptor.value;\r\n\t\tobjWatch[name] = tmp;\r\n\t}\r\n}\r\n","\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) xxxxst. All rights reserved.\r\n *  Licensed under the MIT License\r\n *--------------------------------------------------------------------------------------------\r\n*/\r\n\r\nimport { createDecorator, Vue } from 'vue-class-component';\r\n\r\n//attribute decorator\r\nexport default function State(attrName?: string) {\r\n\tfunction create(target: Vue, key: string) {\r\n\t\tvar name: string = attrName || key;\r\n\t\tname = name.trim();\r\n\r\n\t\tvar getVal = null;\r\n\t\tvar setVal = null;\r\n\r\n\t\tvar ch = \".\";\r\n\t\tif (name.charAt(0) == \"[\") {\r\n\t\t\tch = \"\";\r\n\t\t}\r\n\t\t\r\n\t\t/* eslint-disable */\r\n\t\tgetVal = eval(`(function() { return this.$store.state${ch}${name}; })`);\r\n\t\tsetVal = eval(`(function(val) { this.$store.state${ch}${name}=val; })`);\r\n\t\t/* eslint-disable */\r\n\r\n\t\tfunction initAttr(obj) {\r\n\t\t\tObject.defineProperty(obj, key, {\r\n\t\t\t\tenumerable: true,\r\n\t\t\t\tconfigurable: true,\r\n\t\t\t\tget: () => { return getVal.call(obj); },\r\n\t\t\t\tset: (value: any) => { setVal.call(obj, value); },\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tcreateDecorator((componentOptions, handler) => {\r\n\t\t\tvar mixins = componentOptions.mixins || (componentOptions.mixins = []);\r\n\r\n\t\t\tmixins.push({\r\n\t\t\t\tdata: function () {\r\n\t\t\t\t\tinitAttr(this);\r\n\t\t\t\t\treturn {};\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t})(target, key);\r\n\t}\r\n\r\n\treturn create;\r\n}\r\n"],"names":[],"mappings":"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"}